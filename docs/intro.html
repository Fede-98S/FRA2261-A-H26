<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="fr-FR" xml:lang="fr-FR"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.24">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Introduction – FRA2261-A-H26 - Dramaturgie d’Ancien Régime</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dc55a5b9e770e841cd82e46aadbfb9b0.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-156f2b2fe9641c9e4fb38866a9b6cab4.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Pas de résultats",
    "search-matching-documents-text": "documents trouvés",
    "search-copy-link-title": "Copier le lien vers la recherche",
    "search-hide-matches-text": "Cacher les correspondances additionnelles",
    "search-more-match-text": "correspondance de plus dans ce document",
    "search-more-matches-text": "correspondances de plus dans ce document",
    "search-clear-button-title": "Effacer",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Annuler",
    "search-submit-button-title": "Envoyer",
    "search-label": "Recherche"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN" && texText && texText.data) {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    </a>
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">FRA2261-A-H26 - Dramaturgie d’Ancien Régime</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Recherche"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Basculer la navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./intro.html" aria-current="page"> 
<span class="menu-text">Introduction</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./corneille.html"> 
<span class="menu-text">Corneille</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./moliere.html"> 
<span class="menu-text">Molière</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Sur cette page</h2>
   
  <ul>
  <li><a href="#cadre-politique" id="toc-cadre-politique" class="nav-link active" data-scroll-target="#cadre-politique">Cadre politique</a></li>
  <li><a href="#troupes-et-théâtres" id="toc-troupes-et-théâtres" class="nav-link" data-scroll-target="#troupes-et-théâtres">Troupes et théâtres</a>
  <ul class="collapse">
  <li><a href="#aspect-économique" id="toc-aspect-économique" class="nav-link" data-scroll-target="#aspect-économique">Aspect économique</a></li>
  </ul></li>
  <li><a href="#la-scène" id="toc-la-scène" class="nav-link" data-scroll-target="#la-scène">La scène</a></li>
  <li><a href="#déclin-du-théâtre" id="toc-déclin-du-théâtre" class="nav-link" data-scroll-target="#déclin-du-théâtre">Déclin du théâtre</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Introduction</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<iframe src="slides/pres_intro.html" title="description_of_embedded_content" style="width:100%; height:400px;">
</iframe>
<figcaption>
<a href="slides/pres_intro.html" target="_blank">Ouvrir la présentation dans une autre fenêtre</a>.
</figcaption>
<section id="cadre-politique" class="level1">
<h1>Cadre politique</h1>
<p>Le 13 avril 1598 est la date marquant le début du nouveau siècle, avec la promulgation de l’édit de Nantes. Henri IV, à travers ce document, donne la liberté de culte au protestant, s’appliquant pourtant seulement en dehors de Paris. Cette situation de paix mène à l’affirmation de la classe bourgeoise et des fonctionnaires. En 1600 le roi épouse en secondes noces Marie de Médicis qui, après la mort du roi en 1610, devient la régente. Pourtant, les protestants se révoltent à nouveau et il prend le pouvoir, mais, grâce au cardinal Richelieu, la monarchie est restaurée en 1624. C’est ainsi qui s’impose des règlements serrants, et qui valorisent et protègent la monarchie.</p>
<p>La guerre de Trente Ans (1618-1648) met à l’épreuve les caisses de la France et le peuple est à genou. Se terminant en 1640 avec la paix de Westphalie, l’Europe commence à se dessiner. En même temps, le roi et le cardinal meurent respectivement en 1642-1643, mais à nouveau, il faut une régence, cette fois-ci par la mère Anne d’Autriche avec l’aide du Premier ministre Mazarin. À la fin de la guerre, il commence une nouvelle guerre, dans ce cas civil, la Fronde. Successivement voyant le mouvement de la Fronde parlementaire avant et des princes après. En 1659, une deuxième paix est signée, celle des Pyrénées, qui donne l’Artois et la Roussillon à la France.</p>
<p>Après les guerres internationales, ainsi que celle interne, et suite à la mort de Mazarin en 1661, le roi Louis XIV prend sur soi tout le pouvoir comme seul gouverneur, on parle d’affirmation de la monarchie absolue. Colbert devient premier ministre en 1655, mais il est plus un contrôleur des autres ministres, simples gestionnaires, outre à être intendant des finances. Pour résoudre le problème des guerres de religion, Louis XIV soumet les protestants et réduit l’autorité papale. Louis XIV, vers les années 80 du siècle, s’impose également comme autorité spirituelle de l’Église de France. La forte répression des protestants mène à l’abolition de l’édit de Nantes en 1685. Cela suit un mouvement d’enracinement de plus en plus majeur, après la mort de la reine Marie-Thérèse et peu après de Colbert aussi, le roi épouse Madame de Maintenon, dont la rigueur de sa foi chrétienne mène le roi à une telle abolition. La fin du siècle est marquée par les guerres et la famine.</p>
<p>À côté des politiques relevant de la sécurité interne et d’expansion, il s’engage aussi dans la vie artistique et intellectuelle. En effet, Louis XIV comprend le potentiel des arts comme véhicule d’idéologies. Pour cette raison, son engagement relève du mécénat à travers l’attribution des pensions et des subventions. Parmi les différents arts, le théâtre est le véhicule idéal pour deux raisons&nbsp;: l’accessibilité de cet art ne demande pas d’alphabétisation&nbsp;; le théâtre réunit tous les autres arts dans un même endroit (la peinture du décor, la parole les machine, la musique et la danse). C’est pour cette raison que le <strong>16 avril 1641</strong> est édicté l’ordonnance royale pour la réhabilitation de la profession du comédien.</p>
<iframe src="https://obtic.huma-num.fr/obvil-web/corpus/haine-theatre/louis-xiii_declaration_1641" title="description_of_embedded_content" style="width:100%; height:400px;">
</iframe>
<figcaption>
Louis XIII, Déclaration du Roy Louis XIII, au sujet des comédiens, du 16 avril, Paris, Impr. de Sevestre, 1641. <a href="https://obtic.huma-num.fr/obvil-web/corpus/haine-theatre/louis-xiii_declaration_1641">Disponible en ligne.</a>
</figcaption>
<p>Dans l’ordonnance, nous lisons la promotion de l’honnêteté morale, pour personne offensée.</p>
<blockquote class="blockquote">
<p>de représenter aucunes actions malhonnêtes, ni d’user d’aucunes paroles lascives ou à double entente qui puisse blesser l’honnêteté publique […]&nbsp;En cas que lesdits comédiens règlent tellement les actions du théâtre qu’elles soient du tout exemptes d’impuretés, nous voulons que leur exercice ne leur puisse être imputé à blâme, ni préjudice de leur réputation dans le commerce public.</p>
</blockquote>
<p>Cette moralité des comédiens, en réalité, est une forme de respect pour le public, tendanciellement de strates de la société partant de la bourgeoisie. Stratus auxquels parfois appartiennent aussi les comédiens ou les auteurs, voir Molière tapissier royal ou la Champmeslé, fille d’un receveur d’impôts, et le comédien Floridor, qui est un noble (distinction noblesse de robe et noblesse d’épée). Parfois, même le roi prenait parti dans les pièces, par exemple interprétant des personnages mythologiques dans des petites pièces ou dans des ballets. C’est sûr qu’ainsi faisant, la réhabilitation d’une telle profession est assurée.</p>
<p>Si on revient sur le cadre de la politique religieuse, il faut noter que, si le roi participe aux arts de la scène, elles font preuve d’une tolérance officielle. Cependant, bien que le roi prend parti à ces spectacles, les membres du clergé prônent la défense du théâtre, des fortes condamnations viennent des jansénistes et les dévots. Cette forte opposition demeure contradictoire lorsqu’on regarde à l’histoire du théâtre, notamment au Moyen Âge, quand les mises en scène dont nous sont parvenues plus d’informations sont justement les miracles et les mystères, deux formes de sacres représentations qui se jouaient dedans l’Église. Puis, petit à petit, la représentation s’est déplacée sur le parvis, et, dès là, il y a une division et une évolution du théâtre. Il faut considérer le fait qu’évidemment, le théâtre de forme populaire, que se soit en ville ou à la campagne à toujours existé.</p>
<p>Le théâtre a de fortes racines dans la ritualisé, à ce sujet intéressant sont les études anthropologiques et explorant justement cette dimension<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>.</p>
</section>
<section id="troupes-et-théâtres" class="level1">
<h1>Troupes et théâtres</h1>
<p>Les troupes théâtrales professionnelles sont composées de 12 à 20 comédiens, souvent issus de la même famille (voir Béjart). Parmi les composantes d’une troupe, il y a le chef de troupe, qui a un rôle de direction. Le numéro des troupes en France au XVII<sup>e</sup> siècle est de 200 troupes de provinces, qui étaient des troupes itinérantes, et quatre troupes à Paris. Ces dernières étaient directement subventionnées par le roi et y travaille également les auteurs, dont le rôle sera mieux discuté plus tard.</p>
<p>La première troupe parisienne est celle installée à l’Hôtel de Bourgogne, existant depuis 1629. Situé au quartier des Halles, dans ce théâtre, s’y joue surtout les tragédies.</p>
<p>En 1634 s’installe le théâtre du Marais, où on y voit représenté avant des comédies et tragédies, puis il se spécialise dans les pièces à machines, donc des pièces prévalentement à sujet mythologique.</p>
<p>La troupe du Palais-Royale de Molière débute au Petit-Bourbon en 1658, en 1661, elle se déplace au Palais-Royale, pour arriver au Théâtre Guénégaud après la mort de Molière en 1673.</p>
<p>La dernière troupe est celle des Comédiens-Italiens, installé au Petit-Bourbon depuis 1653, tout comme la troupe de Molière en 1661, elle se déplace au Palais-Royal pour ensuite arriver en 1680 à l’Hotel de Bourgogne. Les comédiens italiens jouent à l’improvisée, Commedia dell’arte <a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>.</p>
<hr>
<section id="aspect-économique" class="level2">
<h2 class="anchored" data-anchor-id="aspect-économique">Aspect économique</h2>
<p>Il faut savoir que pour que le théâtre fonctionne bien, ses dépenses annuelles, estimées sur l’année 1670, est de 15000 livres. En sachant que 1 livre équivaut à 2-3<span class="math inline">\(, les dépenses remontent à 30000\)</span> et 45000$. Il faut considérer que le roi contribue avec des pensions et subventions qui varient selon la préférence du roi.</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Théatre</th>
<th>Montant Livres</th>
<th>Montant Dollars</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Palais Royale</td>
<td>15000</td>
<td>30/45000</td>
</tr>
<tr class="even">
<td>Hotel de Bourgogne</td>
<td>12000</td>
<td>24/36000</td>
</tr>
<tr class="odd">
<td>Theatre du Marais</td>
<td>6000</td>
<td>12/18000</td>
</tr>
<tr class="even">
<td>Comédiens-Italiens</td>
<td>6000</td>
<td>12/18000</td>
</tr>
</tbody>
</table>
<p>Donc, nous pouvons constater que seule la troupe du Palais Royal reçoit des subventions telles qu’elle seule est en mesure de payer tous les frais de fonctionnement, ou presque. Il faut se rappeler que, tout au long du siècle, la politique financière a subi une grosse crise avec une forte inflation.</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Ancien Régime</th>
<th>Rapport en livres</th>
<th>Euro</th>
<th>Dollars</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1 Ecus/Louis</td>
<td>3</td>
<td>67.85</td>
<td>110.04</td>
</tr>
<tr class="even">
<td>1 Livre</td>
<td>1</td>
<td>22.62</td>
<td>36.69</td>
</tr>
<tr class="odd">
<td>1 Sol</td>
<td>0.05</td>
<td>1.13</td>
<td>1.83</td>
</tr>
<tr class="even">
<td>1 Denier(s)</td>
<td>-</td>
<td>0.09</td>
<td>0.15</td>
</tr>
</tbody>
</table>
<p><a href="https://convertisseur-monnaie-ancienne.fr/?Y=1680&amp;E=0&amp;L=6000&amp;S=0&amp;D=0">Convertisseur Livre Ancien Régime</a></p>
<hr>
<p>Le Théâtre du Palais-Royal est en vrai né comme Palais-Cardinal et appartenait au cardinal Richelieu, donc il s’agit d’un théâtre privé. En 1642, il prend le nom de Palais-Royal, tout en restant un théâtre privé et en devenant public qu’à partir de 1650. En 1670 ce théâtre peut ôter mille spectateurs, si bien serrés, repartis en&nbsp;: 600 au parterre, 500 dans les loges et 100 dans l’amphithéâtre. L’Hotel de Bourgogne et le théâtre du Marais ont une même structure, mais, de dimensions réduites, peuvent ôter juste quelques centaines de spectateurs. Cela est dû au fait que ces salles sont des anciens jeux de paume<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a>.</p>
</section>
</section>
<section id="la-scène" class="level1">
<h1>La scène</h1>
<p>La scène de théâtre, normalement, est peu large et peu profonde, elle présente un décor en perspective à l’arrière-scène et l’espace de jeu à l’avant-scène reste limité. Les caractéristiques physiques du théâtre imposent des contraintes sur l’acteur et sur sa manière de jouer. En effet, le jeu est frontal et statique, et la manière de parler est déclamatoire, il s’agit d’un art codifié de la voix et de geste peu nombreux et expressif, on jeu notamment avec les bras (lever, baisser et indiquer), le visage, la mimique et en général la posture.</p>
<p>Même l’écriture dramatique se fait en se basant sur ces contraintes, donc il y a une esthétique du monologue et de la tirade. Ces longues répliques sont particulièrement adaptées pour les airs d’opéra. La présence des monologues est particulièrement imposante dans la tragédie. En effet, la comédie joue un appart, ayant beaucoup de gestuelle, de mouvement, que ce soit d’un seul comédien ou dans l’interaction dans le microcosme de la représentation.</p>
</section>
<section id="déclin-du-théâtre" class="level1">
<h1>Déclin du théâtre</h1>
<p>La production théatrale entre 1630 et 1680 est considéré comme faisant partie de l’age d’or du théatre. Après 1680 plusieurs facteurs marquent le déclin de cette art.</p>
<ul>
<li>La période de la fin du règne avec une période de récession et de stagnation.</li>
<li>l’institution de la Comédie-Française en 1680 les théâtres sont centralisés (agglomération de l’Hotel de Bourgogne, du Marais et la troupe de Molière) et il n’existe plus de concurrence des troupes françaises (ou peut-être ce serait mieux de dire francophones).</li>
<li>1672, institutions de l’Académie royale de musique et de danse par le Florentin Gianbattista Lulli (Jean-Baptiste Lully).</li>
<li>Au Comédiens-Italiens, dès 1684, restent le théâtre de l’improvisation et les nouvelles créations&nbsp;; cependant, en 1697, ils sont chassés de Paris après avoir joué <em>La Fausse Prude</em>, une satire contre Mme de Maintenon.</li>
<li>Cela est issu de la politique d’intolérance religieuse, faute des dévotions croissantes et de l’influence de Mme de Maintenon sur le roi.</li>
<li>En 1684 Bousset attaque Molière avec <em>Maxime et réflexions sur la comédie</em>, car il ridiculise les mauvaises mœurs, mais sans les corriger.</li>
<li>Un tel acharnement politique contre le théâtre est mise en place, en 1701, la commission de censure dont le directeur est le lieutenant de police. En cette année, on donne au censeur le droit de regarder au manuscrit de la représentation et, en 1709, le droit à la lectrice du censeur est nécessaire que avant l’impression.</li>
</ul>


</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Notes de bas de page</h2>

<ol>
<li id="fn1"><p>Le théâtre a de fortes racines dans la ritualisé, à ce sujet intéressant sont les études anthropologiques et explorant justement cette dimension.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>La Commedia dell’arte est un genre théâtral italien du XVIe siècle qui met en scène des personnages stéréotypés, appelés masque&nbsp;: les amants, Colombina, Pulcinella, Brighella. Le jeu de l’improvisation repose quand même sur un canevas.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>Le jeu de paume est l’ancêtre du tennis. Ce sport a évolué dans sa pratique, dans un premier temps, on utilise une main gantée pour frapper la balle, puis on commence à utiliser une raquette. Le terme tennis dérive de l’action initiale de la partie, quand on lance la balle et on dit “tenez&nbsp;!”.<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copié");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copié");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>